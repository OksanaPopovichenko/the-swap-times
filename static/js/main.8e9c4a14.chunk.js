(this["webpackJsonpthe-swap-times"]=this["webpackJsonpthe-swap-times"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(31),r=n.n(s),i=(n(47),n(48),n(49),n(114)),o=(n(50),n(7)),u=n.n(o),j=n(10),l=n(9),f=n(5),d=n(117),b=n.p+"static/media/swap.a0ec5c2c.svg",O=(n(52),n(32)),p=n.n(O),h=n(2),g=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),o=Object(f.a)(r,2),l=o[0],O=o[1],g=e.news,x=e.getRelevant,w=e.id,v=e.size;Object(a.useEffect)((function(){O(g)}),[g]);var y=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!c),e.next=3,x(w);case 3:t=e.sent,O(t[w]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(i.a,{container:!0,direction:"column",className:"news-".concat(v),wrap:"nowrap",justifyContent:"center",children:[Object(h.jsxs)(p.a,{isFlipped:c,infinite:!0,children:[Object(h.jsx)(m,{news:l,size:v}),Object(h.jsx)(m,{news:l,size:v})]}),"big"!==v?Object(h.jsxs)(i.a,{className:"swap-block",container:!0,justifyContent:"center",alignItems:"center",onClick:y,children:[Object(h.jsx)("img",{src:b,alt:"swap",className:"swap-icon"}),Object(h.jsx)(d.a,{variant:"body1",children:"Swap news"})]}):null]})};function m(e){var t=e.news,n=e.size;return Object(h.jsx)(i.a,{container:!0,direction:"column",className:"news news-".concat(n),justifyContent:"flex-end",style:{backgroundImage:t.image?"url(".concat(t.image,")"):"url(https://ik.imagekit.io/7xe1jiffo71/no-image_xp4URuufd.png?updatedAt=1628851158021)"},children:Object(h.jsxs)(i.a,{className:"content-wrap",children:[Object(h.jsx)(d.a,{variant:"h6",align:"left",className:"title",children:t.title}),Object(h.jsx)(d.a,{variant:"body1",align:"left",className:"description",children:t.description})]})})}var x=n(38),w=n.n(x),v=n.p+"static/media/logo.4e2a09ab.svg",y=n(14),S=n.n(y),N=n.p+"static/media/cross.d3877505.svg",k=(n(78),function(e){var t=e.color,n=e.data,a=e.removeCategory;return Object(h.jsxs)(i.a,{container:!0,className:"category category-".concat(t),direction:"row",justify:"space-between",wrap:"nowrap",children:[Object(h.jsx)(d.a,{variant:"body1",className:"category-name",children:n}),Object(h.jsx)("img",{src:N,alt:"cross",onClick:function(){a(n,"green"==t?"like":"dislike")}})]})}),C=function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],s=n[1],r=e.data,o=r.list,u=r.color;return Object(a.useEffect)((function(){s(o)}),[o]),Object(h.jsx)(i.a,{className:"categories",children:c.map((function(t,n){return Object(h.jsx)(k,{color:u,data:t,removeCategory:e.removeCategory},n)}))})},L=function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],s=n[1],r=e.data,o=r.news,u=r.size;return Object(a.useEffect)((function(){s(o)}),[o]),Object(h.jsx)(i.a,{className:"wrapper",container:!0,direction:"row",wrap:"nowrap",children:c.map((function(t,n){return Object(h.jsx)(g,{size:u,news:t,id:n,getRelevant:e.getRelevant},n)}))})},z=n(39),E=n(40),I=n(116),R=new(function(){function e(){Object(z.a)(this,e),this.loaderState$=new I.a(null)}return Object(E.a)(e,[{key:"setLoaderState",value:function(e){this.loaderState$.next(e)}}]),e}()),F=(n(79),"https://api.mediastack.com/v1/news?access_key=".concat("0903149d2c4fc6ac74bffc7410592d70")),B=["general","business","entertainment","health","science","sports","technology"],M=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(f.a)(s,2),o=r[0],b=r[1],O=Object(a.useState)([]),p=Object(f.a)(O,2),m=p[0],x=p[1],y=Object(a.useState)([]),N=Object(f.a)(y,2),k=N[0],z=N[1],E=Object(a.useState)([]),I=Object(f.a)(E,2),M=I[0],$=I[1],A=Object(a.useState)([]),J=Object(f.a)(A,2),P=J[0],T=J[1];Object(a.useEffect)((function(){Y()}),[]),Object(a.useEffect)((function(){b(Object(l.a)(new Set(n)))}),[n]),Object(a.useEffect)((function(){U(Object(l.a)(new Set(n))),z(Object(l.a)(new Set(m))),D(Object(l.a)(new Set(m)))}),[m]);var Y=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B.filter((function(e){return m.indexOf(e)<0})).join(",-"),n=F+"&categories=".concat(t)+"&countries=us,-fr&languages=en,-fr&limit=10&offset=".concat(G()),R.setLoaderState(!0),e.next=5,S.a.get(n);case 5:a=e.sent,T(a.data.data),R.setLoaderState(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B.filter((function(e){return Object(l.a)(new Set(m)).indexOf(e)<0})).join(",-"),n=F+"&categories=".concat(t)+"&countries=us,-fr&languages=en,-fr&limit=10&offset=".concat(G()),R.setLoaderState(!0),e.next=5,S.a.get(n);case 5:a=e.sent,T(a.data.data),R.setLoaderState(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=B.filter((function(t){return e.indexOf(t)<0})).join(",-");H(t),_()},U=function(e){o.some((function(t){e.includes(t)&&(o.splice(o.indexOf(t),1),c(o))}))},q=function(e,t){var n;"like"==t?((n=o.indexOf(e))>-1&&o.splice(n,1),c(o)):((n=k.indexOf(e))>-1&&k.splice(n,1),x(k))},G=function(){return Math.round(99*Math.random()+1)},H=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F+"&categories=".concat(t)+"&countries=us,-fr&languages=en,-fr&limit=10&offset=".concat(G()),R.setLoaderState(!0),e.next=4,S.a.get(n);case 4:a=e.sent,$(a.data.data),R.setLoaderState(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M[t].category,a=F+"&categories=".concat(n,"&countries=us,-fr&languages=en,-fr&limit=1&offset=").concat(G()),R.setLoaderState(!0),e.next=5,S.a.get(a);case 5:return c=e.sent,M[t]=c.data.data[0],$(M),R.setLoaderState(!1),e.abrupt("return",M);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(i.a,{children:[Object(h.jsxs)(i.a,{className:"main-block",container:!0,alignItems:"center",direction:"column",children:[Object(h.jsx)("img",{src:v,alt:"logo",className:"logo"}),Object(h.jsxs)(i.a,{className:"news-block container",container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(h.jsxs)(i.a,{className:"categories-wrap swipe-left",children:[Object(h.jsx)(d.a,{variant:"h5",children:"Swipe Left"}),Object(h.jsx)(d.a,{variant:"body1",className:"text",children:"if you are not interested in this news"}),Object(h.jsx)(d.a,{variant:"h6",children:"You don\u2019t like"}),Object(h.jsx)(C,{data:{list:k,color:"red"},removeCategory:q})]}),Object(h.jsx)(i.a,{className:"swapper",children:P.map((function(e,t){return Object(h.jsx)(w.a,{className:"swipe",preventSwipe:["up","down"],onSwipe:function(t){return n=t,a=e.category,void("right"==n?c((function(e){return[].concat(Object(l.a)(e),[a])})):x((function(e){return[].concat(Object(l.a)(e),[a])})));var n,a},children:Object(h.jsx)(g,{size:"big",news:e})},t)}))}),Object(h.jsxs)(i.a,{className:"categories-wrap swipe-right",children:[Object(h.jsx)(d.a,{variant:"h5",children:"Swipe Right"}),Object(h.jsx)(d.a,{variant:"body1",className:"text",children:"if you are interested in this news"}),Object(h.jsx)(d.a,{variant:"h6",children:"You like"}),Object(h.jsx)(C,{data:{list:o,color:"green"},removeCategory:q})]})]})]}),Object(h.jsxs)(i.a,{className:"suggestions-block",children:[Object(h.jsxs)(i.a,{className:"container",children:[Object(h.jsx)(d.a,{variant:"h6",children:"News suggestions"}),Object(h.jsx)(d.a,{variant:"body1",className:"text",children:"Based on what you like"})]}),Object(h.jsx)(L,{data:{size:"small",news:M},getRelevant:K})]})]})},$=(n(80),n(41)),A=n.n($),J=(n(99),function(){var e=Object(a.useState)(!0),t=Object(f.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=R.loaderState$.subscribe((function(e){c(e)}));return function(){e&&e.unsubscribe()}})),Object(h.jsx)("div",{children:n&&Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(A.a,{type:"Oval",color:"#1976d2",height:100,width:100})})})});var P=function(){return Object(h.jsxs)(i.a,{className:"App",children:[Object(h.jsx)(J,{}),Object(h.jsx)(M,{})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),T()},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.8e9c4a14.chunk.js.map